<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <input type="text" id="searcher">
    <button type="button" id="submit">Search</button>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
<script src="https://www.gstatic.com/firebasejs/7.14.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.9.2/firebase-firestore.js"></script>
<script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
<script src="https://www.gstatic.com/firebasejs/7.9.2/firebase-analytics.js"></script>
<!-- <script src="scripts/firebase_api.js"></script> -->

<script>

      // Your web app's Firebase configuration
  var firebaseConfig = {
    apiKey: "AIzaSyC-n2aDGPBRbl3LAtsW9Ih-rPSe9O8wuXE",
    authDomain: "group36-a3695.firebaseapp.com",
    databaseURL: "https://group36-a3695.firebaseio.com",
    projectId: "group36-a3695",
    storageBucket: "group36-a3695.appspot.com",
    messagingSenderId: "442042715299",
    appId: "1:442042715299:web:bcc01e94cb94902f088316"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

    function search() {
      let search = document.getElementById("searcher").value;
      var proRef = db.collection("users").doc("charliewei").collection("products");
      var query = proRef.where("Description", "==", search)
            .get()
            .then(function(querySnapshot) {
                querySnapshot.forEach(function(doc) {

                    // doc.data() is never undefined for query doc snapshots
                    console.log(doc.id);
                    console.log(doc.data()["Price"]);
                });
            })
            .catch(function(error) {
                console.log("Error getting documents: ", error);
            });
          }

    document.getElementById("submit").onclick = search;
</script>

</body>
</html>